"""
upgrade alembic

Revision ID: d5cfe15474bb
Revises: f4f2b2a76181
Create Date: 2025-09-03 19:04:35.100243

"""

import sqlalchemy as sa
from alembic import op
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision = "d5cfe15474bb"
down_revision = "f4f2b2a76181"
branch_labels = None
depends_on = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.alter_column(
        "application",
        "status",
        existing_type=postgresql.ENUM(
            "PENDING",
            "ACCEPTED",
            "LAPSED",
            "DECLINED",
            "SUBMITTED",
            "STARTED",
            "APPROVED",
            "CONTRACT_UPLOADED",
            "COMPLETED",
            "REJECTED",
            "INFORMATION_REQUESTED",
            name="application_status",
        ),
        type_=sa.Enum(
            "PENDING",
            "DECLINED",
            "ACCEPTED",
            "SUBMITTED",
            "STARTED",
            "REJECTED",
            "INFORMATION_REQUESTED",
            "LAPSED",
            "APPROVED",
            name="applicationstatus",
        ),
        existing_nullable=False,
    )
    op.alter_column(
        "application",
        "borrower_credit_product_selected_at",
        existing_type=postgresql.TIMESTAMP(),
        type_=sa.DateTime(timezone=True),
        existing_nullable=True,
    )
    op.alter_column(
        "application_action",
        "type",
        existing_type=postgresql.ENUM(
            "AWARD_UPDATE",
            "BORROWER_UPDATE",
            "APPLICATION_CALCULATOR_DATA_UPDATE",
            "APPLICATION_CONFIRM_CREDIT_PRODUCT",
            "FI_DOWNLOAD_DOCUMENT",
            "FI_DOWNLOAD_APPLICATION",
            "OCP_DOWNLOAD_APPLICATION",
            "FI_START_APPLICATION",
            "FI_REQUEST_INFORMATION",
            "OCP_DOWNLOAD_DOCUMENT",
            "APPROVED_APPLICATION",
            "REJECTED_APPLICATION",
            "MSME_UPLOAD_DOCUMENT",
            "MSME_CHANGE_EMAIL",
            "MSME_CONFIRM_EMAIL",
            "MSME_UPLOAD_ADDITIONAL_DOCUMENT_COMPLETED",
            "MSME_RETRY_APPLICATION",
            "DATA_VALIDATION_UPDATE",
            "BORROWER_DOCUMENT_VERIFIED",
            "APPLICATION_COPIED_FROM",
            "COPIED_APPLICATION",
            "APPLICATION_ROLLBACK_SELECT_PRODUCT",
            "APPLICATION_ROLLBACK_CONFIRM_CREDIT_PRODUCT",
            "MSME_ACCESS_EXTERNAL_ONBOARDING",
            "FI_LAPSE_APPLICATION",
            name="application_action_type",
        ),
        type_=sa.Enum(
            "AWARD_UPDATE",
            "BORROWER_UPDATE",
            "APPLICATION_CALCULATOR_DATA_UPDATE",
            "APPLICATION_CONFIRM_CREDIT_PRODUCT",
            "FI_DOWNLOAD_DOCUMENT",
            "FI_DOWNLOAD_APPLICATION",
            "OCP_DOWNLOAD_APPLICATION",
            "FI_START_APPLICATION",
            "FI_REQUEST_INFORMATION",
            "FI_LAPSE_APPLICATION",
            "OCP_DOWNLOAD_DOCUMENT",
            "APPROVED_APPLICATION",
            "REJECTED_APPLICATION",
            "MSME_UPLOAD_DOCUMENT",
            "MSME_CHANGE_EMAIL",
            "MSME_CONFIRM_EMAIL",
            "MSME_UPLOAD_ADDITIONAL_DOCUMENT_COMPLETED",
            "MSME_RETRY_APPLICATION",
            "MSME_ACCESS_EXTERNAL_ONBOARDING",
            "DATA_VALIDATION_UPDATE",
            "BORROWER_DOCUMENT_VERIFIED",
            "APPLICATION_COPIED_FROM",
            "COPIED_APPLICATION",
            "APPLICATION_ROLLBACK_SELECT_PRODUCT",
            "APPLICATION_ROLLBACK_CONFIRM_CREDIT_PRODUCT",
            name="applicationactiontype",
        ),
        existing_nullable=False,
    )
    op.alter_column(
        "borrower",
        "size",
        existing_type=postgresql.ENUM("NOT_INFORMED", "MICRO", "SMALL", "MEDIUM", "BIG", name="borrower_size"),
        type_=sa.Enum("NOT_INFORMED", "MICRO", "SMALL", "MEDIUM", "BIG", name="borrowersize"),
        existing_nullable=False,
    )
    op.alter_column(
        "borrower",
        "status",
        existing_type=postgresql.ENUM("ACTIVE", "DECLINE_OPPORTUNITIES", name="borrower_status"),
        type_=sa.Enum("ACTIVE", "DECLINE_OPPORTUNITIES", name="borrowerstatus"),
        existing_nullable=False,
    )
    op.alter_column(
        "borrower_document",
        "type",
        existing_type=postgresql.ENUM(
            "INCORPORATION_DOCUMENT",
            "SUPPLIER_REGISTRATION_DOCUMENT",
            "BANK_NAME",
            "BANK_CERTIFICATION_DOCUMENT",
            "FINANCIAL_STATEMENT",
            "SIGNED_CONTRACT",
            "SHAREHOLDER_COMPOSITION",
            "CHAMBER_OF_COMMERCE",
            "THREE_LAST_BANK_STATEMENT",
            "INCOME_TAX_RETURN_STATEMENT",
            "CHAMBER_OF_COMMERCE_WITH_TEMPORARY_UNIONS",
            name="borrower_document_type",
        ),
        type_=sa.Enum(
            "INCORPORATION_DOCUMENT",
            "SUPPLIER_REGISTRATION_DOCUMENT",
            "BANK_NAME",
            "BANK_CERTIFICATION_DOCUMENT",
            "FINANCIAL_STATEMENT",
            "SIGNED_CONTRACT",
            "SHAREHOLDER_COMPOSITION",
            "CHAMBER_OF_COMMERCE",
            "THREE_LAST_BANK_STATEMENT",
            "INCOME_TAX_RETURN_STATEMENT",
            "CHAMBER_OF_COMMERCE_WITH_TEMPORARY_UNIONS",
            name="borrowerdocumenttype",
        ),
        existing_nullable=False,
    )
    op.alter_column(
        "credere_user",
        "type",
        existing_type=postgresql.ENUM("OCP", "FI", name="user_type"),
        type_=sa.Enum("OCP", "FI", name="usertype"),
        existing_nullable=False,
    )
    op.alter_column(
        "credit_product",
        "borrower_size",
        existing_type=postgresql.ENUM("NOT_INFORMED", "MICRO", "SMALL", "MEDIUM", "BIG", name="borrower_size"),
        type_=sa.Enum("NOT_INFORMED", "MICRO", "SMALL", "MEDIUM", "BIG", name="borrowersize"),
        existing_nullable=False,
    )
    op.alter_column(
        "credit_product",
        "type",
        existing_type=postgresql.ENUM("LOAN", "CREDIT_LINE", name="credit_type"),
        type_=sa.Enum("LOAN", "CREDIT_LINE", name="credittype"),
        existing_nullable=False,
    )
    op.alter_column(
        "message",
        "type",
        existing_type=postgresql.ENUM(
            "BORROWER_INVITATION",
            "BORROWER_PENDING_APPLICATION_REMINDER",
            "BORROWER_PENDING_SUBMIT_REMINDER",
            "SUBMISSION_COMPLETED",
            "NEW_APPLICATION_OCP",
            "NEW_APPLICATION_FI",
            "FI_MESSAGE",
            "APPROVED_APPLICATION",
            "REJECTED_APPLICATION",
            "OVERDUE_APPLICATION",
            "EMAIL_CHANGE_CONFIRMATION",
            "APPLICATION_COPIED",
            "BORROWER_DOCUMENT_UPDATED",
            "BORROWER_EXTERNAL_ONBOARDING_REMINDER",
            name="message_type",
        ),
        type_=sa.Enum(
            "BORROWER_INVITATION",
            "BORROWER_PENDING_APPLICATION_REMINDER",
            "BORROWER_PENDING_SUBMIT_REMINDER",
            "BORROWER_EXTERNAL_ONBOARDING_REMINDER",
            "SUBMISSION_COMPLETED",
            "NEW_APPLICATION_OCP",
            "NEW_APPLICATION_FI",
            "FI_MESSAGE",
            "BORROWER_DOCUMENT_UPDATED",
            "REJECTED_APPLICATION",
            "APPROVED_APPLICATION",
            "OVERDUE_APPLICATION",
            "APPLICATION_COPIED",
            "EMAIL_CHANGE_CONFIRMATION",
            name="messagetype",
        ),
        existing_nullable=False,
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.alter_column(
        "message",
        "type",
        existing_type=sa.Enum(
            "BORROWER_INVITATION",
            "BORROWER_PENDING_APPLICATION_REMINDER",
            "BORROWER_PENDING_SUBMIT_REMINDER",
            "BORROWER_EXTERNAL_ONBOARDING_REMINDER",
            "SUBMISSION_COMPLETED",
            "NEW_APPLICATION_OCP",
            "NEW_APPLICATION_FI",
            "FI_MESSAGE",
            "BORROWER_DOCUMENT_UPDATED",
            "REJECTED_APPLICATION",
            "APPROVED_APPLICATION",
            "OVERDUE_APPLICATION",
            "APPLICATION_COPIED",
            "EMAIL_CHANGE_CONFIRMATION",
            name="messagetype",
        ),
        type_=postgresql.ENUM(
            "BORROWER_INVITATION",
            "BORROWER_PENDING_APPLICATION_REMINDER",
            "BORROWER_PENDING_SUBMIT_REMINDER",
            "SUBMISSION_COMPLETED",
            "NEW_APPLICATION_OCP",
            "NEW_APPLICATION_FI",
            "FI_MESSAGE",
            "APPROVED_APPLICATION",
            "REJECTED_APPLICATION",
            "OVERDUE_APPLICATION",
            "EMAIL_CHANGE_CONFIRMATION",
            "APPLICATION_COPIED",
            "BORROWER_DOCUMENT_UPDATED",
            "BORROWER_EXTERNAL_ONBOARDING_REMINDER",
            name="message_type",
        ),
        existing_nullable=False,
    )
    op.alter_column(
        "credit_product",
        "type",
        existing_type=sa.Enum("LOAN", "CREDIT_LINE", name="credittype"),
        type_=postgresql.ENUM("LOAN", "CREDIT_LINE", name="credit_type"),
        existing_nullable=False,
    )
    op.alter_column(
        "credit_product",
        "borrower_size",
        existing_type=sa.Enum("NOT_INFORMED", "MICRO", "SMALL", "MEDIUM", "BIG", name="borrowersize"),
        type_=postgresql.ENUM("NOT_INFORMED", "MICRO", "SMALL", "MEDIUM", "BIG", name="borrower_size"),
        existing_nullable=False,
    )
    op.alter_column(
        "credere_user",
        "type",
        existing_type=sa.Enum("OCP", "FI", name="usertype"),
        type_=postgresql.ENUM("OCP", "FI", name="user_type"),
        existing_nullable=False,
    )
    op.alter_column(
        "borrower_document",
        "type",
        existing_type=sa.Enum(
            "INCORPORATION_DOCUMENT",
            "SUPPLIER_REGISTRATION_DOCUMENT",
            "BANK_NAME",
            "BANK_CERTIFICATION_DOCUMENT",
            "FINANCIAL_STATEMENT",
            "SIGNED_CONTRACT",
            "SHAREHOLDER_COMPOSITION",
            "CHAMBER_OF_COMMERCE",
            "THREE_LAST_BANK_STATEMENT",
            "INCOME_TAX_RETURN_STATEMENT",
            "CHAMBER_OF_COMMERCE_WITH_TEMPORARY_UNIONS",
            name="borrowerdocumenttype",
        ),
        type_=postgresql.ENUM(
            "INCORPORATION_DOCUMENT",
            "SUPPLIER_REGISTRATION_DOCUMENT",
            "BANK_NAME",
            "BANK_CERTIFICATION_DOCUMENT",
            "FINANCIAL_STATEMENT",
            "SIGNED_CONTRACT",
            "SHAREHOLDER_COMPOSITION",
            "CHAMBER_OF_COMMERCE",
            "THREE_LAST_BANK_STATEMENT",
            "INCOME_TAX_RETURN_STATEMENT",
            "CHAMBER_OF_COMMERCE_WITH_TEMPORARY_UNIONS",
            name="borrower_document_type",
        ),
        existing_nullable=False,
    )
    op.alter_column(
        "borrower",
        "status",
        existing_type=sa.Enum("ACTIVE", "DECLINE_OPPORTUNITIES", name="borrowerstatus"),
        type_=postgresql.ENUM("ACTIVE", "DECLINE_OPPORTUNITIES", name="borrower_status"),
        existing_nullable=False,
    )
    op.alter_column(
        "borrower",
        "size",
        existing_type=sa.Enum("NOT_INFORMED", "MICRO", "SMALL", "MEDIUM", "BIG", name="borrowersize"),
        type_=postgresql.ENUM("NOT_INFORMED", "MICRO", "SMALL", "MEDIUM", "BIG", name="borrower_size"),
        existing_nullable=False,
    )
    op.alter_column(
        "application_action",
        "type",
        existing_type=sa.Enum(
            "AWARD_UPDATE",
            "BORROWER_UPDATE",
            "APPLICATION_CALCULATOR_DATA_UPDATE",
            "APPLICATION_CONFIRM_CREDIT_PRODUCT",
            "FI_DOWNLOAD_DOCUMENT",
            "FI_DOWNLOAD_APPLICATION",
            "OCP_DOWNLOAD_APPLICATION",
            "FI_START_APPLICATION",
            "FI_REQUEST_INFORMATION",
            "FI_LAPSE_APPLICATION",
            "OCP_DOWNLOAD_DOCUMENT",
            "APPROVED_APPLICATION",
            "REJECTED_APPLICATION",
            "MSME_UPLOAD_DOCUMENT",
            "MSME_CHANGE_EMAIL",
            "MSME_CONFIRM_EMAIL",
            "MSME_UPLOAD_ADDITIONAL_DOCUMENT_COMPLETED",
            "MSME_RETRY_APPLICATION",
            "MSME_ACCESS_EXTERNAL_ONBOARDING",
            "DATA_VALIDATION_UPDATE",
            "BORROWER_DOCUMENT_VERIFIED",
            "APPLICATION_COPIED_FROM",
            "COPIED_APPLICATION",
            "APPLICATION_ROLLBACK_SELECT_PRODUCT",
            "APPLICATION_ROLLBACK_CONFIRM_CREDIT_PRODUCT",
            name="applicationactiontype",
        ),
        type_=postgresql.ENUM(
            "AWARD_UPDATE",
            "BORROWER_UPDATE",
            "APPLICATION_CALCULATOR_DATA_UPDATE",
            "APPLICATION_CONFIRM_CREDIT_PRODUCT",
            "FI_DOWNLOAD_DOCUMENT",
            "FI_DOWNLOAD_APPLICATION",
            "OCP_DOWNLOAD_APPLICATION",
            "FI_START_APPLICATION",
            "FI_REQUEST_INFORMATION",
            "OCP_DOWNLOAD_DOCUMENT",
            "APPROVED_APPLICATION",
            "REJECTED_APPLICATION",
            "MSME_UPLOAD_DOCUMENT",
            "MSME_CHANGE_EMAIL",
            "MSME_CONFIRM_EMAIL",
            "MSME_UPLOAD_ADDITIONAL_DOCUMENT_COMPLETED",
            "MSME_RETRY_APPLICATION",
            "DATA_VALIDATION_UPDATE",
            "BORROWER_DOCUMENT_VERIFIED",
            "APPLICATION_COPIED_FROM",
            "COPIED_APPLICATION",
            "APPLICATION_ROLLBACK_SELECT_PRODUCT",
            "APPLICATION_ROLLBACK_CONFIRM_CREDIT_PRODUCT",
            "MSME_ACCESS_EXTERNAL_ONBOARDING",
            "FI_LAPSE_APPLICATION",
            name="application_action_type",
        ),
        existing_nullable=False,
    )
    op.alter_column(
        "application",
        "borrower_credit_product_selected_at",
        existing_type=sa.DateTime(timezone=True),
        type_=postgresql.TIMESTAMP(),
        existing_nullable=True,
    )
    op.alter_column(
        "application",
        "status",
        existing_type=sa.Enum(
            "PENDING",
            "DECLINED",
            "ACCEPTED",
            "SUBMITTED",
            "STARTED",
            "REJECTED",
            "INFORMATION_REQUESTED",
            "LAPSED",
            "APPROVED",
            name="applicationstatus",
        ),
        type_=postgresql.ENUM(
            "PENDING",
            "ACCEPTED",
            "LAPSED",
            "DECLINED",
            "SUBMITTED",
            "STARTED",
            "APPROVED",
            "CONTRACT_UPLOADED",
            "COMPLETED",
            "REJECTED",
            "INFORMATION_REQUESTED",
            name="application_status",
        ),
        existing_nullable=False,
    )
    # ### end Alembic commands ###
